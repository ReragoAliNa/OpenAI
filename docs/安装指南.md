# OpenAI Hide and Seek 完整安装指南

## 当前状态
✅ Python 3.7 环境已创建 (`openai_hide_py37`)
✅ OpenSSL 已安装
✅ MuJoCo 2.1.0 已配置
❌ 网络问题：pip 无法连接到代理服务器

## 解决方案 1：配置 pip 使用国内镜像源

在 PowerShell 中执行：

```powershell
# 激活环境
conda activate openai_hide_py37

# 创建 pip 配置目录
mkdir C:\Users\33587\pip
New-Item -Path "C:\Users\33587\pip\pip.ini" -ItemType File -Force

# 添加以下内容到 pip.ini:
[global]
index-url = https://pypi.tuna.tsinghua.edu.cn/simple
trusted-host = pypi.tuna.tsinghua.edu.cn
```

然后再次尝试安装：

```powershell
# 1. 安装 TensorFlow 1.15
pip install tensorflow==1.15.0

# 2. 安装 mujoco-worldgen 依赖
cd e:\OpenAI
pip install click xmltodict scipy gym==0.10.8 jsonnet numpy-stl mujoco-py

# 3. 安装项目
pip install -e mujoco-worldgen/

# 4. 安装 multi-agent 依赖
pip install cloudpickle baselines opencv-python pytest
pip install -e multi-agent-emergence-environments/
```

## 解决方案 2：取消代理设置

```powershell
# 临时取消 HTTP 代理
$env:HTTP_PROXY = ""
$env:HTTPS_PROXY = ""
$env:http_proxy = ""
$env:https_proxy = ""

# 然后运行安装命令
pip install tensorflow==1.15.0
# ... 其他依赖
```

## 解决方案 3：离线安装（如果网络持续有问题）

1. 在有网络的电脑上下载所有 wheel 文件
2. 传输到当前电脑
3. 使用 `pip install <文件名>.whl` 安装

## 运行实验

安装完成后，使用以下命令运行：

```powershell
# 设置 MuJoCo PATH
$env:PATH = "C:\Users\33587\.mujoco\mujoco210\bin;" + $env:PATH

# 运行实验
cd e:\OpenAI\multi-agent-emergence-environments
python bin/examine.py examples/hide_and_seek_quadrant.jsonnet examples/hide_and_seek_quadrant.npz
```

或者直接运行脚本：
```powershell
cd e:\OpenAI
.\run_with_py37.ps1
```

## 验证安装

```powershell
conda activate openai_hide_py37
python -c "import tensorflow as tf; print(tf.__version__)"  # 应输出 1.15.0
python -c "import mujoco_py"  # 应无错误
python -c "import mae_envs"  # 应无错误
```

## 常见问题

**Q: SSL 错误**
A: 已通过 `conda install openssl` 解决

**Q: 代理错误**
A: 使用国内镜像源或取消代理设置

**Q: MuJoCo DLL 找不到**
A: 确保在运行前设置了 PATH 环境变量
